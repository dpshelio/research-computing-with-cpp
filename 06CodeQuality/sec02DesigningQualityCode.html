




<!DOCTYPE html>
<!--[if IE 7]> <html lang="en" class="lt-ie9 lt-ie8 no-js"> <![endif]-->
<!--[if IE 8]> <html lang="en" class="lt-ie9 no-js"> <![endif]-->
<!--[if gt IE 8]><!--> <html lang="en" class="no-js"> <!--<![endif]-->
<head>
    <meta charset=utf-8 />
    <meta name="author" content="UCL" />
    <meta name="description" content="UCL Homepage" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- social meta -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@uclnews">
    <meta name="twitter:title" content="UCL - London's Global University">
    <meta name="twitter:description" content="UCL (University College London) is London's leading multidisciplinary university, with 8,000 staff and 25,000 students.">
    <meta name="twitter:creator" content="@UCLWAMS">
    <meta name="twitter:image:src" content="http://www.ucl.ac.uk/visual-identity/logos/standalone.png">
    <meta property="og:image" content="http://www.ucl.ac.uk/visual-identity/logos/standalone.png" />
    <meta property="og:title" content="UCL - London's Global University" />
    <meta property="og:url" content="http://www.ucl.ac.uk" />
    <meta property="og:site_name" content="UCL" />
    <meta property="og:description" content="UCL (University College London) is London's leading multidisciplinary university, with 8,000 staff and 25,000 students." />
    <meta property="og:type" content="website" />
    <meta property="og:profile_id" content="uclofficial" />
    <!-- end social meta -->

  <title>Designing Quality Code</title>

  <link href="/research-computing-with-cpp/assets/css/screen.min.css" media="screen, projection" rel="stylesheet" type="text/css" />
  <link href="/research-computing-with-cpp/assets/css/jekyll-styles.css" rel="stylesheet" type="text/css">
  <link href="/research-computing-with-cpp/site-styles/local_styles.css" rel="stylesheet" type="text/css">
  <link href="/research-computing-with-cpp/site-styles/ipython.css" rel="stylesheet" type="text/css">

  <link rel="shortcut icon" href="/research-computing-with-cpp/assets/images/favicon.ico" />
    <link rel="apple-touch-icon-precomposed" href="/research-computing-with-cpp/favicon-152.png">
    <meta name="msapplication-TileColor" content="#000000">
    <meta name="msapplication-TileImage" content="/research-computing-with-cpp/favicon-144.png">

  <script src="/research-computing-with-cpp/assets/js/lib/modernizr-custom.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

    <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ['$','$'], ["\\(","\\)"] ],
            displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
            processEscapes: true,
            processEnvironments: true
        },
        // Center justify equations in code and markdown cells. Elsewhere
        // we use CSS to left justify single line equations in code cells.
        displayAlign: 'center',
        "HTML-CSS": {
            styles: {'.MathJax_Display': {"margin": 0}},
            linebreaks: { automatic: true }
        }
    });
    </script>

    <script>
      var cuttingTheMustard = document.querySelector && window.localStorage && window.addEventListener;

      Modernizr.load({
        //cutting the mustard as used by the BBC
        test: cuttingTheMustard
        //if old browser load the shiv
        ,
        nope: [
          '/research-computing-with-cpp/assets/js/lib/html5shiv-printshiv.min.js', '/research-computing-with-cpp/assets/js/lib/respond.min.js'
        ]
      });
      //set conditional assets for main.js
      var globalSiteSpecificVars = {
        pathToJquery: "/research-computing-with-cpp/assets/js/lib/jquery-1.9.1.min",
        googleAnalyticsIdsArray: [] //specify array of site specific id's NOT UCL generic UA-943297-1
      }
      if (cuttingTheMustard) {
        globalSiteSpecificVars.pathToJquery = '/research-computing-with-cpp/assets/js/lib/jquery-2.1.1.min';
      }
    </script>
    <script src="/research-computing-with-cpp/assets/js/lib/require.min.js"></script>
    <script src="/research-computing-with-cpp/assets/js/main.js"></script>
    <script>
      require.config({
        baseUrl: '/research-computing-with-cpp/assets/js/lib'
      });
        require(["app/general", "app/searchWithAutoComplete", "app/tabs"]);//load the default stuff
    </script>
</head>

<body id="index" class="layout-vertical layout-vertical--nav-1col">

  <header class="header header--desktop">

  <a class="header__close" href="#">
    <img src="/research-computing-with-cpp/assets/images/close.png" class="lazy" data-src="//static.ucl.ac.uk/indigo/images/close.png" alt="X" />Close</a>

  <div class="masthead">

  <div class="wrapper clearfix">

      <div class="masthead__search">
					<form action="#" method="get">
						<div class="search-form">
							<input type="search" placeholder="Search UCL websites, people and more" class="search-form__input search-form__input--search" value="">
						</div>
						<input type="submit" name="sumbit" value="Go" class="btn search-form__input search-form__input--submit" />
					</form>
				</div>


				<nav class="masthead__nav m-clear">
					<ul class="masthead__list">
						<li class="masthead__item"><a href="index.php" class="masthead__link">UCL Home</a>
						</li>
						<li class="masthead__item"><a href="prospective-students.php" class="masthead__link">Prospective students</a>
						</li>
						<li class="masthead__item"><a href="current-students.php" class="masthead__link">Current students</a>
						</li>
						<li class="masthead__item"><a href="staff.php" class="masthead__link">Staff</a>
						</li>
					</ul>
				</nav>
			</div>

</div><!-- end .masthead -->


  <div class="wrapper">

    <div class="photograph">
  <div class="brand">
    <p class="brand__heading">PHAS0100: Research Computing with C++</p>
    <a href="/" class="brand__link"><span class="visually-hidden">Home</span></a>
    <img src="//cdn.ucl.ac.uk/img/blank.gif" data-src="//static.ucl.ac.uk/indigo/images/ucl-logo.svg" alt="UCL logo" id="logo" class="brand__logo lazy">  
  </div>
</div>


    <div class="sidebar">

      <nav class="nav nav--mobile">
        <ul>
          




        </ul>
      </nav>

      <nav class="nav nav--left">
        <ul>
          

 <li class="active"> <a href="/research-computing-with-cpp/01research/">Lecture 1: C++ for Research</a><ul><li class="inactive"> <a href="/research-computing-with-cpp/01research/sec01Research.html">C++ in Research</a> </li> <li class="inactive"> <a href="/research-computing-with-cpp/01research/sec02Git.html">Git</a> </li> <li class="inactive"> <a href="/research-computing-with-cpp/01research/sec03CMake.html">CMake</a> </li> <li class="inactive"> <a href="/research-computing-with-cpp/01research/sec04CMakeBasics.html">CMake Basics</a> </li> <li class="inactive"> <a href="/research-computing-with-cpp/01research/sec05CMakeIntermediate.html">Intermediate CMake</a> </li> <li class="inactive"> <a href="/research-computing-with-cpp/01research/sec06UnitTesting.html">Unit Testing</a> </li></ul> </li> <li class="active"> <a href="/research-computing-with-cpp/02cpp1/">Lecture 2: Modern C++ (1)</a><ul> <li class="inactive"> <a href="/research-computing-with-cpp/02cpp1/sec01LanguageRecap.html">C++ language recap</a> </li> <li class="inactive"> <a href="/research-computing-with-cpp/02cpp1/sec02OOConcepts.html">Object Oriented Review</a> </li> <li class="inactive"> <a href="/research-computing-with-cpp/02cpp1/sec03EssentialReading.html">Essential Reading</a> </li> </ul> </li> <li class="active"> <a href="/research-computing-with-cpp/03cpp2/">Lecture 3: Modern C++ (2)</a><ul> <li class="inactive"> <a href="/research-computing-with-cpp/03cpp2/sec01StandardLibrary.html">C++ Standard Library</a> </li> <li class="inactive"> <a href="/research-computing-with-cpp/03cpp2/sec02SmartPointers.html">Smart Pointers</a> </li> <li class="inactive"> <a href="/research-computing-with-cpp/03cpp2/sec03LambdaExpressions.html">Lambda expressions</a> </li> <li class="inactive"> <a href="/research-computing-with-cpp/03cpp2/sec04Exceptions.html">Error Handling</a> </li></ul> </li> <li class="active"> <a href="/research-computing-with-cpp/04cpp3/">Lecture 4: Modern C++ (3)</a><ul> <li class="inactive"> <a href="/research-computing-with-cpp/04cpp3/sec01ProgramToInterfaces.html">Program To Interfaces</a> </li> <li class="inactive"> <a href="/research-computing-with-cpp/04cpp3/sec02Inheritance.html">Inheritance</a> </li> <li class="inactive"> <a href="/research-computing-with-cpp/04cpp3/sec03DependencyInjection.html">Dependency Injection</a> </li> <li class="inactive"> <a href="/research-computing-with-cpp/04cpp3/sec04RAII.html">RAII Pattern</a> </li> <li class="inactive"> <a href="/research-computing-with-cpp/04cpp3/sec05ConstructionPatterns.html">Construction Patterns</a> </li> <li class="inactive"> <a href="/research-computing-with-cpp/04cpp3/sec06TemplatesIntro.html">Templates</a> </li> <li class="inactive"> <a href="/research-computing-with-cpp/04cpp3/sec07FunctionTemplates.html">Function Templates</a> </li> <li class="inactive"> <a href="/research-computing-with-cpp/04cpp3/sec08ClassTemplates.html">Class Templates</a> </li> <li class="inactive"> <a href="/research-computing-with-cpp/04cpp3/sec13SummaryOfPatterns.html">Summary</a> </li> </ul> </li> <li class="active"> <a href="/research-computing-with-cpp/05libraries/">Lecture 5: Including Libraries</a><ul> <li class="inactive"> <a href="/research-computing-with-cpp/05libraries/sec00Intro.html">Libraries</a> </li> <li class="inactive"> <a href="/research-computing-with-cpp/05libraries/sec01ChoosingLibraries.html">Choosing Libraries</a> </li> <li class="inactive"> <a href="/research-computing-with-cpp/05libraries/sec02LibraryBasics.html">Library Basics</a> </li> <li class="inactive"> <a href="/research-computing-with-cpp/05libraries/sec02LinkingLibraries.html">Linking Libraries</a> </li> <li class="inactive"> <a href="/research-computing-with-cpp/05libraries/sec03UsingLibraries.html">Using Libraries</a> </li> <li class="inactive"> <a href="/research-computing-with-cpp/05libraries/sec04Examples.html">Examples</a> </li> <li class="inactive"> <a href="/research-computing-with-cpp/05libraries/sec05Summary.html">Summary</a> </li></ul> </li> <li class="active"> <a href="/research-computing-with-cpp/06CodeQuality/">Lecture 6: Writing Quality Code</a><ul> <li class="active"> <a href="/research-computing-with-cpp/06CodeQuality/sec01WhyCareAboutQuality.html">Why Care About Code Quality?</a> </li> <li class="active"> <a href="/research-computing-with-cpp/06CodeQuality/sec02DesigningQualityCode.html">Designing Quality Code</a> </li> <li class="active"> <a href="/research-computing-with-cpp/06CodeQuality/sec03WritingQualityCode.html">Writing Quality Code</a> </li> </ul> </li> <li class="active"> <a href="/research-computing-with-cpp/07PerformanceProgramming/">Lecture 7: Performance Programming</a><ul> <li class="inactive"> <a href="/research-computing-with-cpp/07PerformanceProgramming/Sec04ConcurrencyProblems.html">Concurrency Problems</a> </li> </ul> </li> <li class="active"> <a href="/research-computing-with-cpp/98Installation/">Installation</a><ul> </ul> </li> 

        </ul>
      </nav>

    </div>
    <!-- end .sidebar -->

    <nav class="nav nav--top">
      <ul>
        
      </ul>
    </nav>

  </div>
  <!-- end .wrapper -->

  </header>
  <!-- end .header -->

  <div class="site-content wrapper">

    <header class="header header--mobile default-header">
      <a class="header__open" href="#">
        <img src="/research-computing-with-cpp/assets/images/ucl-menu.svg" alt="Menu" />
      </a>
    </header>

    <div class="site-content__inner clearfix">
      <div class="site-content__body">

          
            <nav class="breadcrumb clearfix">
              <ul class="breadcrumb__list">
                <li class="breadcrumb__item"><a href="http://www.ucl.ac.uk/">UCL</a></li>

  
    <li class="breadcrumb__item"><a href="http://www.ucl.ac.uk/ISD">ISD</a></li>
  
    <li class="breadcrumb__item"><a href="http://www.ucl.ac.uk/isd/services">Our services</a></li>
  
    <li class="breadcrumb__item"><a href="http://www.ucl.ac.uk/isd/services/research-it">Research IT</a></li>
  
    <li class="breadcrumb__item"><a href="http://www.ucl.ac.uk/isd/services/research-it/training">Training</a></li>
  

<li class="breadcrumb__item"><a href="/research-computing-with-cpp/">PHAS0100</a></li>



              </ul>
            </nav>
           <div class="site-content__main">
            
            
          
          

    <h2 id="designing-quality-code">Designing Quality Code</h2>

<p>Consider the age-old software-engineering principle:</p>

<blockquote>
  <p>Don’t repeat yourself (DRY)</p>
</blockquote>

<p>So far on this course, we’ve applied this by placing common functionality into functions and, in some cases, classes. Only using functions is commonly called “procedural” programming and has been used for decades to keep things simple. As <a href="https://en.wikipedia.org/wiki/Kelly_Johnson_(engineer)">Kelly Johnson</a> says,</p>

<blockquote>
  <p>Keep it simple, stupid (KISS) – Kelly Johnson</p>
</blockquote>

<p>DRY and KISS are two fundamental software engineering principles which can help guide you in designing and writing quality software. However, KISS does not <em>necessarily</em> mean writing everything in a procedural style; if that were the case, other programming models wouldn’t be so popular. When software becomes large or complex, just using functions isn’t enough to KISS. This is why object-oriented programming (or OOP) is so popular; OOP principles are designed to reduce complexity. The four principles of OOP are:</p>

<ul>
  <li>Encapsulation
    <ul>
      <li>Each object keeps its state private; other objects can only change it through public methods.</li>
    </ul>
  </li>
  <li>Abstraction
    <ul>
      <li>Each object hides its implementation and exposes a public-facing interface</li>
    </ul>
  </li>
  <li>Inheritance
    <ul>
      <li>Objects sharing functionality can inherit behaviour from a parent</li>
    </ul>
  </li>
  <li>Polymorphism
    <ul>
      <li>Classes inherited from the same parent can all be treated <em>mostly</em> similarly</li>
    </ul>
  </li>
</ul>

<p>Let’s explore these principles through an example; consider them applied to a real object, say, a car. A car <strong>encapsulates</strong> most of its “state” in a way it is hidden from the driver. The “state” includes things like the amount of petrol left, the number of miles driven or the current radio station. A driver cannot directly interact with this state but instead accesses it through its public interface, through the fuel-gauge, the milometer and changing the radio via its controls. In this way, the car has <strong>abstracted</strong> away the implementation of any of these controls and outputs. This is why a driver can sit down in most cars and immediately know how much fuel remains or how to change the radio, because the public interface doesn’t change very much even though the underlying implementation of any of these controls might. For example, the volume knob on a radio at some point was used to control some analogue circuit. Now, the same knob is used as input to a digital circuit which changes the volume in its own way. Even though the implementation has significantly changed, the interface remains the same. In fact, this is an example of <strong>polymorphism</strong>, where many (very different) cars can be used in (nearly) the same way because they all use similar interfaces. This is because cars have <strong>inherited</strong> their interfaces from a common ancestor.</p>

<p>In code, this example might look like:</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Car</span> <span class="p">{</span>
  <span class="nl">public:</span>
    <span class="k">virtual</span> <span class="kt">float</span> <span class="n">getFuelLeft</span><span class="p">()</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">// pure virtual because there's no good default</span>
    <span class="kt">int</span> <span class="n">getMilesDriven</span><span class="p">();</span> <span class="c1">// Notice there's no set</span>
    <span class="kt">void</span> <span class="n">increaseVolume</span><span class="p">()</span> <span class="p">{</span>
      <span class="n">radio</span><span class="p">.</span><span class="n">increaseVolume</span><span class="p">();</span> <span class="c1">// Pass on the call to the radio</span>
    <span class="p">}</span>
    <span class="kt">void</span> <span class="n">decreaseVolume</span><span class="p">();</span>
    <span class="kt">void</span> <span class="n">changeStation</span><span class="p">(</span><span class="kt">int</span> <span class="n">stationNumber</span><span class="p">);</span>

  <span class="nl">private:</span>
    <span class="kt">int</span> <span class="n">milesDriven</span><span class="p">;</span>
    <span class="n">Radio</span> <span class="n">radio</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">class</span> <span class="nc">DieselCar</span><span class="o">:</span> <span class="k">public</span> <span class="n">Car</span> <span class="p">{</span>
  <span class="nl">public:</span>
    <span class="kt">float</span> <span class="n">getFuelLeft</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">return</span> <span class="n">dieselRemaining</span><span class="p">;</span>
    <span class="p">}</span>

  <span class="nl">private:</span>
    <span class="kt">float</span> <span class="n">dieselRemaining</span><span class="p">;</span>
<span class="p">};</span>

<span class="k">class</span> <span class="nc">ElectricCar</span><span class="o">:</span> <span class="k">public</span> <span class="n">Car</span> <span class="p">{</span>
  <span class="nl">public:</span>
    <span class="kt">float</span> <span class="n">getFuelLeft</span><span class="p">()</span> <span class="p">{</span>
      <span class="k">return</span> <span class="n">batteryLevelRemaining</span> <span class="o">*</span> <span class="n">efficiency</span><span class="p">;</span>
    <span class="p">}</span>

  <span class="nl">private:</span>
    <span class="kt">float</span> <span class="n">batteryRemaining</span><span class="p">;</span>
    <span class="kt">float</span> <span class="n">efficiency</span><span class="p">;</span>
<span class="p">};</span>

<span class="kt">void</span> <span class="n">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="c1">// This is polymorphism - both cars are still of type Car</span>
  <span class="n">Car</span> <span class="o">*</span><span class="n">myDieselCar</span> <span class="o">=</span> <span class="k">new</span> <span class="n">DieselCar</span><span class="p">;</span>
  <span class="n">Car</span> <span class="o">*</span><span class="n">myElectricCar</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ElectricCar</span><span class="p">;</span>

  <span class="c1">// We don't need to know *actual* type of car!</span>
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">myDieselCar</span><span class="p">.</span><span class="n">getFuelLeft</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
  <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">myElectricCar</span><span class="p">.</span><span class="n">getFuelLeft</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Notice a few things here:</p>
<ul>
  <li>We’ve used a pure virtual function because we <em>need</em> a subclass to override this; there’s just no good default option.</li>
  <li>We’ve used <strong>composition</strong> instead of inheritance to handle the radio; this means we can change the type of radio without having a new subclass of car!</li>
  <li>There’s no <code class="language-plaintext highlighter-rouge">setMilesDriven</code> because the driver shouldn’t be able to set that (this is <strong>encapsulation</strong>)</li>
  <li>The electric car has used <strong>abstraction</strong> to hide how the fuel level is really calculated from the driver.</li>
</ul>




        </div>

      </div>
    </div>

  </div>
  <!-- end .site-content -->

  <footer class="footer wrapper">
  <div class="footer__inner clearfix">
             <article class="block block--col-1">
                <h2 class="as-h5">Facilities</h2>
                <ul class="footer__list list-unstyled">
					<li class="footer__item"><a href="http://www.ucl.ac.uk/departments/faculties">Faculties and departments</a></li>
					<li class="footer__item"><a href="http://www.ucl.ac.uk/library/">Library</a></li>
					<li class="footer__item"><a href="http://www.ucl.ac.uk/museums">Museums and Collections</a></li>
					<li class="footer__item"><a href="http://www.thebloomsbury.com/">UCL Bloomsbury Theatre</a></li>
					<li class="footer__item"><a href="http://www.ucl.ac.uk/maps">Maps and buildings</a></li>
				</ul>
            </article>
            <article class="block block--col-2">
                <h2 class="as-h5">Locations</h2>
                <ul class="footer__list list-unstyled">
					<li class="footer__item"><a href="http://www.ucl.ac.uk/london">UCL and London</a></li>
					<li class="footer__item"><a href="http://www.ucl.ac.uk/australia">UCL Australia</a></li>
					<li class="footer__item"><a href="http://www.ucl.ac.uk/qatar">UCL Qatar</a></li>
					<li class="footer__item"><a href="http://www.ucl.ac.uk/global">UCL Global</a></li>
				</ul>
            </article>
            <article class="block block--col-3">
                <h2 class="as-h5">Connect with us</h2>
                <ul class="footer__list list-unstyled">
					<li class="footer__item"><a href="http://www.ucl.ac.uk/alumni">Alumni</a></li>
					<li class="footer__item"><a href="http://www.ucl.ac.uk/enterprise">Businesses</a></li>
					<li class="footer__item"><a href="http://www.ucl.ac.uk/media">Media Relations</a></li>
					<li class="footer__item"><a href="http://www.ucl.ac.uk/hr/jobs/">Jobs</a></li>
					<li class="footer__item"><a href="http://www.ucl.ac.uk/makeyourmark">Give to UCL</a></li>
				</ul>

      </article>
  
    <hr class="clear">
    <ul class="footer__list list-unstyled zero-bottom">
      <li class="footer__item text-muted small">University College London,&nbsp;Gower Street,&nbsp;London,&nbsp;WC1E 6BT&nbsp;Tel:&nbsp;+44&nbsp;(0)&nbsp;20 7679 2000</li>
    </ul>
    <ul class="list-inline footer__list list-unstyled list-inline--divided">
      <li class="text-muted small">Copyright © 2022-11-18 19:59:30 +0000 UCL</li>
      <li class="text-muted small"><a href="#">Disclaimer</a>
      </li>
      <li class="text-muted small"><a href="#">Freedom of Information</a>
      </li>
      <li class="text-muted small"><a href="#">Accessibility</a>
      </li>
      <li class="text-muted small"><a href="#">Privacy</a>
      </li>
      <li class="text-muted small"><a href="#">Cookies</a>
      </li>
      <li class="text-muted small"><a href="#">Contact Us</a>
      </li>
    </ul>
  </div>
</footer>


  <script src="/research-computing-with-cpp/assets/js/lib/require.min.js"></script>
  <script src="/research-computing-with-cpp/assets/js/main.js"></script>
    <script>
      require.config({
        baseUrl: '/research-computing-with-cpp/assets/js/lib'
      });
        require(["app/general", "app/searchWithAutoComplete", "app/tabs"]);//load the default stuff
    </script>

</body>

</html>

