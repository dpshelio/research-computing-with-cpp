<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <title>Object Oriented Review</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="http://lab.hakim.se/reveal-js/css/reveal.css">
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  { color: #cccccc; background-color: #303030; }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ffcfaf; } /* Alert */
code span.an { color: #7f9f7f; font-weight: bold; } /* Annotation */
code span.at { } /* Attribute */
code span.bn { color: #dca3a3; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #f0dfaf; } /* ControlFlow */
code span.ch { color: #dca3a3; } /* Char */
code span.cn { color: #dca3a3; font-weight: bold; } /* Constant */
code span.co { color: #7f9f7f; } /* Comment */
code span.cv { color: #7f9f7f; font-weight: bold; } /* CommentVar */
code span.do { color: #7f9f7f; } /* Documentation */
code span.dt { color: #dfdfbf; } /* DataType */
code span.dv { color: #dcdccc; } /* DecVal */
code span.er { color: #c3bf9f; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #c0bed1; } /* Float */
code span.fu { color: #efef8f; } /* Function */
code span.im { } /* Import */
code span.in { color: #7f9f7f; font-weight: bold; } /* Information */
code span.kw { color: #f0dfaf; } /* Keyword */
code span.op { color: #f0efd0; } /* Operator */
code span.ot { color: #efef8f; } /* Other */
code span.pp { color: #ffcfaf; font-weight: bold; } /* Preprocessor */
code span.sc { color: #dca3a3; } /* SpecialChar */
code span.ss { color: #cc9393; } /* SpecialString */
code span.st { color: #cc9393; } /* String */
code span.va { } /* Variable */
code span.vs { color: #cc9393; } /* VerbatimString */
code span.wa { color: #7f9f7f; font-weight: bold; } /* Warning */
  </style>
  <link rel="stylesheet" href="http://lab.hakim.se/reveal-js/css/theme/night.css" id="theme">
  <link rel="stylesheet" href="http://lab.hakim.se/reveal-js/css/theme/night.css"/>
  <link rel="stylesheet" href="/research-computing-with-cpp//css/ucl_reveal.css"/>
  <link rel="stylesheet" href="/research-computing-with-cpp//site-styles/reveal.css"/>
  <!-- Printing and PDF exports -->
  <script>
    var link = document.createElement( 'link' );
    link.rel = 'stylesheet';
    link.type = 'text/css';
    link.href = window.location.search.match( /print-pdf/gi ) ? 'http://lab.hakim.se/reveal-js/css/print/pdf.css' : 'http://lab.hakim.se/reveal-js/css/print/paper.css';
    document.getElementsByTagName( 'head' )[0].appendChild( link );
  </script>
  <!--[if lt IE 9]>
  <script src="http://lab.hakim.se/reveal-js/lib/js/html5shiv.js"></script>
  <![endif]-->
</head>
<body>
  <div class="reveal">
    <div class="slides">

<section id="title-slide">
  <h1 class="title">Object Oriented Review</h1>
</section>

<section><section id="object-oriented-review" class="title-slide slide level2"><h2>Object Oriented Review</h2></section><section id="c-style-programming" class="slide level3">
<h3>C-style Programming</h3>
<ul>
<li>Procedural programming</li>
<li>Pass data to functions</li>
</ul>
</section><section id="function-style-example" class="slide level3">
<h3>Function-style Example</h3>
<div class="sourceCode" id="cb1"><pre class="sourceCode cpp"><code class="sourceCode cpp"><a class="sourceLine" id="cb1-1" title="1"></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="dt">double</span> compute_similarity(<span class="dt">double</span> *imag1, <span class="dt">double</span>* image2, <span class="dt">double</span> *params)</a>
<a class="sourceLine" id="cb1-3" title="3">{</a>
<a class="sourceLine" id="cb1-4" title="4">  <span class="co">// stuff</span></a>
<a class="sourceLine" id="cb1-5" title="5">}</a>
<a class="sourceLine" id="cb1-6" title="6"></a>
<a class="sourceLine" id="cb1-7" title="7"><span class="dt">double</span> calculate_derivative(<span class="dt">double</span>* params)</a>
<a class="sourceLine" id="cb1-8" title="8">{</a>
<a class="sourceLine" id="cb1-9" title="9">  <span class="co">// stuff</span></a>
<a class="sourceLine" id="cb1-10" title="10">}</a>
<a class="sourceLine" id="cb1-11" title="11"></a>
<a class="sourceLine" id="cb1-12" title="12"><span class="dt">double</span> convert_to_decimal(<span class="dt">double</span> numerator, <span class="dt">double</span> denominator)</a>
<a class="sourceLine" id="cb1-13" title="13">{</a>
<a class="sourceLine" id="cb1-14" title="14">  <span class="co">// stuff</span></a>
<a class="sourceLine" id="cb1-15" title="15">}</a></code></pre></div>
</section><section id="disadvantages" class="slide level3">
<h3>Disadvantages</h3>
<ul>
<li>Can get out of hand as program size increases</li>
<li>Can’t easily describe relationships between bits of data</li>
<li>Relies on method documentation, function and variable names</li>
<li>Can’t easily control/(enforce control of) access to data</li>
</ul>
</section><section id="c-struct" class="slide level3">
<h3>C Struct</h3>
<ul>
<li>So, in C, the struct was invented</li>
<li>Basically a class without methods</li>
<li>This at least provides a logical grouping</li>
</ul>
</section><section id="struct-example" class="slide level3">
<h3>Struct Example</h3>
<div class="sourceCode" id="cb2"><pre class="sourceCode cpp"><code class="sourceCode cpp"><a class="sourceLine" id="cb2-1" title="1"></a>
<a class="sourceLine" id="cb2-2" title="2"><span class="kw">struct</span> Fraction {</a>
<a class="sourceLine" id="cb2-3" title="3">  <span class="dt">int</span> numerator;</a>
<a class="sourceLine" id="cb2-4" title="4">  <span class="dt">int</span> denominator;</a>
<a class="sourceLine" id="cb2-5" title="5">};</a>
<a class="sourceLine" id="cb2-6" title="6"></a>
<a class="sourceLine" id="cb2-7" title="7"><span class="dt">double</span> convertToDecimal(<span class="at">const</span> Fraction&amp; f)</a>
<a class="sourceLine" id="cb2-8" title="8">{</a>
<a class="sourceLine" id="cb2-9" title="9">  <span class="cf">return</span> f.numerator/<span class="kw">static_cast</span>&lt;<span class="dt">double</span>&gt;(f.denominator); </a>
<a class="sourceLine" id="cb2-10" title="10">}</a></code></pre></div>
</section><section id="c-class" class="slide level3">
<h3>C++ Class</h3>
<ul>
<li>C++ provides the class to enhance the language with user defined types</li>
<li>Once defined, use types as if native to the language</li>
</ul>
</section><section id="abstraction" class="slide level3">
<h3>Abstraction</h3>
<ul>
<li>C++ class mechanism enables you to define a type
<ul>
<li>independent of its data</li>
<li>independent of its implementation</li>
<li>class defines concept or blueprint</li>
<li>instantiation creates object</li>
</ul></li>
</ul>
</section><section id="abstraction---grady-booch" class="slide level3">
<h3>Abstraction - Grady Booch</h3>
<p>“An abstraction denotes the essential characteristics of an object that distinguish it from all other kinds of objects and thus provide crisply defined conceptual boundaries, relative to the perspective of the viewer.”</p>
</section><section id="class-example" class="slide level3">
<h3>Class Example</h3>
<div class="sourceCode" id="cb3"><pre class="sourceCode cpp"><code class="sourceCode cpp"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">class</span> Atom {</a>
<a class="sourceLine" id="cb3-2" title="2"><span class="kw">public</span>:</a>
<a class="sourceLine" id="cb3-3" title="3">  Atom(){};</a>
<a class="sourceLine" id="cb3-4" title="4">  ~Atom(){};</a>
<a class="sourceLine" id="cb3-5" title="5">  <span class="dt">int</span> GetAtomicNumber();</a>
<a class="sourceLine" id="cb3-6" title="6">  <span class="dt">double</span> GetAtomicWeight();</a>
<a class="sourceLine" id="cb3-7" title="7">};</a>
<a class="sourceLine" id="cb3-8" title="8"></a>
<a class="sourceLine" id="cb3-9" title="9"><span class="dt">int</span> main(<span class="dt">int</span> argc, <span class="dt">char</span>** argv)</a>
<a class="sourceLine" id="cb3-10" title="10">{</a>
<a class="sourceLine" id="cb3-11" title="11">  Atom a;</a>
<a class="sourceLine" id="cb3-12" title="12">}</a></code></pre></div>
</section><section id="encapsulation" class="slide level3">
<h3>Encapsulation</h3>
<ul>
<li>Encapsulation is:
<ul>
<li>Bundling together methods and data</li>
<li>Restricting access, defining public interface</li>
</ul></li>
<li>Describes how you correctly use something</li>
</ul>
</section><section id="publicprivateprotected" class="slide level3">
<h3>Public/Private/Protected</h3>
<ul>
<li>For class methods/variables:
<ul>
<li><code>private</code>: only available in this class</li>
<li><code>protected</code>: available in this class and derived classes</li>
<li><code>public</code>: available to anyone with access to the object</li>
</ul></li>
<li>(public, protected, private inheritance comes later)</li>
</ul>
</section><section id="class-example-1" class="slide level3">
<h3>Class Example</h3>
<div class="sourceCode" id="cb4"><pre class="sourceCode cpp"><code class="sourceCode cpp"><a class="sourceLine" id="cb4-1" title="1"><span class="co">// Defining a User Defined Type.</span></a>
<a class="sourceLine" id="cb4-2" title="2"><span class="kw">class</span> Fraction {</a>
<a class="sourceLine" id="cb4-3" title="3"></a>
<a class="sourceLine" id="cb4-4" title="4"><span class="kw">public</span>: <span class="co">// access control</span></a>
<a class="sourceLine" id="cb4-5" title="5">  <span class="co">// How to create</span></a>
<a class="sourceLine" id="cb4-6" title="6">  Fraction();</a>
<a class="sourceLine" id="cb4-7" title="7">  Fraction(<span class="at">const</span> <span class="dt">int</span> &amp;num, <span class="at">const</span> <span class="dt">int</span> &amp;denom);</a>
<a class="sourceLine" id="cb4-8" title="8"></a>
<a class="sourceLine" id="cb4-9" title="9">  <span class="co">// How to destroy</span></a>
<a class="sourceLine" id="cb4-10" title="10">  ~Fraction();</a>
<a class="sourceLine" id="cb4-11" title="11"></a>
<a class="sourceLine" id="cb4-12" title="12">  <span class="co">// How to access</span></a>
<a class="sourceLine" id="cb4-13" title="13">  <span class="dt">int</span> numerator() <span class="at">const</span>;</a>
<a class="sourceLine" id="cb4-14" title="14">  <span class="dt">int</span> denominator() <span class="at">const</span>;</a>
<a class="sourceLine" id="cb4-15" title="15"></a>
<a class="sourceLine" id="cb4-16" title="16">  <span class="co">// What you can do</span></a>
<a class="sourceLine" id="cb4-17" title="17">  <span class="at">const</span> Fraction <span class="kw">operator</span>+(<span class="at">const</span> Fraction &amp;another);</a>
<a class="sourceLine" id="cb4-18" title="18"></a>
<a class="sourceLine" id="cb4-19" title="19"><span class="kw">private</span>: <span class="co">// access control</span></a>
<a class="sourceLine" id="cb4-20" title="20">  <span class="co">// The data</span></a>
<a class="sourceLine" id="cb4-21" title="21">  <span class="dt">int</span> <span class="va">m_Numerator</span>;</a>
<a class="sourceLine" id="cb4-22" title="22">  <span class="dt">int</span> <span class="va">m_Denominator</span>;</a>
<a class="sourceLine" id="cb4-23" title="23">};</a></code></pre></div>
</section><section id="inheritance" class="slide level3">
<h3>Inheritance</h3>
<ul>
<li>Used for:
<ul>
<li>Defining new types based on a common type</li>
</ul></li>
<li>Careful:
<ul>
<li>Beware - “Reduce code duplication, less maintenance”</li>
<li>Types in a hierarchy MUST be related</li>
<li>Don’t over-use inheritance</li>
<li>We will cover other ways of object re-use</li>
</ul></li>
</ul>
</section><section id="class-example-2" class="slide level3">
<h3>Class Example</h3>
<div class="sourceCode" id="cb5"><pre class="sourceCode cpp"><code class="sourceCode cpp"><a class="sourceLine" id="cb5-1" title="1"><span class="kw">class</span> Shape {</a>
<a class="sourceLine" id="cb5-2" title="2"><span class="kw">public</span>:</a>
<a class="sourceLine" id="cb5-3" title="3">  Shape();</a>
<a class="sourceLine" id="cb5-4" title="4">  <span class="dt">void</span> setVisible(<span class="at">const</span> <span class="dt">bool</span> &amp;isVisible) { <span class="va">m_IsVisible</span> = isVisible; }</a>
<a class="sourceLine" id="cb5-5" title="5">  <span class="kw">virtual</span> <span class="dt">void</span> rotate(<span class="at">const</span> <span class="dt">double</span> &amp;degrees) = <span class="dv">0</span>;</a>
<a class="sourceLine" id="cb5-6" title="6">  <span class="kw">virtual</span> <span class="dt">void</span> scale(<span class="at">const</span> <span class="dt">double</span> &amp;factor) = <span class="dv">0</span>;</a>
<a class="sourceLine" id="cb5-7" title="7">  <span class="co">// + other methods</span></a>
<a class="sourceLine" id="cb5-8" title="8"><span class="kw">private</span>:</a>
<a class="sourceLine" id="cb5-9" title="9">  <span class="dt">bool</span> <span class="va">m_IsVisible</span>;</a>
<a class="sourceLine" id="cb5-10" title="10">  <span class="dt">unsigned</span> <span class="dt">char</span> <span class="va">m_Colour</span>[<span class="dv">3</span>]; <span class="co">// RGB</span></a>
<a class="sourceLine" id="cb5-11" title="11">  <span class="dt">double</span> <span class="va">m_CentreOfMass</span>[<span class="dv">2</span>];</a>
<a class="sourceLine" id="cb5-12" title="12">};</a>
<a class="sourceLine" id="cb5-13" title="13"></a>
<a class="sourceLine" id="cb5-14" title="14"><span class="kw">class</span> Rectangle : <span class="kw">public</span> Shape {</a>
<a class="sourceLine" id="cb5-15" title="15"><span class="kw">public</span>:</a>
<a class="sourceLine" id="cb5-16" title="16">  Rectangle();</a>
<a class="sourceLine" id="cb5-17" title="17">  <span class="kw">virtual</span> <span class="dt">void</span> rotate(<span class="at">const</span> <span class="dt">double</span> &amp;degrees);</a>
<a class="sourceLine" id="cb5-18" title="18">  <span class="kw">virtual</span> <span class="dt">void</span> scale(<span class="at">const</span> <span class="dt">double</span> &amp;factor);</a>
<a class="sourceLine" id="cb5-19" title="19">  <span class="co">// + other methods</span></a>
<a class="sourceLine" id="cb5-20" title="20"><span class="kw">private</span>:</a>
<a class="sourceLine" id="cb5-21" title="21">  <span class="dt">double</span> <span class="va">m_Corner1</span>[<span class="dv">2</span>];</a>
<a class="sourceLine" id="cb5-22" title="22">  <span class="dt">double</span> <span class="va">m_Corner2</span>[<span class="dv">2</span>];</a>
<a class="sourceLine" id="cb5-23" title="23">};</a>
<a class="sourceLine" id="cb5-24" title="24"></a>
<a class="sourceLine" id="cb5-25" title="25"><span class="kw">class</span> Circle : <span class="kw">public</span> Shape {</a>
<a class="sourceLine" id="cb5-26" title="26"><span class="kw">public</span>:</a>
<a class="sourceLine" id="cb5-27" title="27">  Circle();</a>
<a class="sourceLine" id="cb5-28" title="28">  <span class="kw">virtual</span> <span class="dt">void</span> rotate(<span class="at">const</span> <span class="dt">double</span> &amp;degrees);</a>
<a class="sourceLine" id="cb5-29" title="29">  <span class="kw">virtual</span> <span class="dt">void</span> scale(<span class="at">const</span> <span class="dt">double</span> &amp;factor);</a>
<a class="sourceLine" id="cb5-30" title="30">  <span class="co">// + other methods</span></a>
<a class="sourceLine" id="cb5-31" title="31"><span class="kw">private</span>:</a>
<a class="sourceLine" id="cb5-32" title="32">  <span class="dt">float</span> radius;</a>
<a class="sourceLine" id="cb5-33" title="33">};</a></code></pre></div>
</section><section id="polymorphism" class="slide level3">
<h3>Polymorphism</h3>
<ul>
<li>Several types:
<ul>
<li>(normally) “subtype”: via inheritance</li>
<li>“parametric”: via templates</li>
<li>“ad hoc”: via function overloading</li>
</ul></li>
<li>Common interface to entities of different types</li>
<li>Same method, different behaviour</li>
</ul>
</section><section id="class-example-3" class="slide level3">
<h3>Class Example</h3>
<div class="sourceCode" id="cb6"><pre class="sourceCode cpp"><code class="sourceCode cpp"><a class="sourceLine" id="cb6-1" title="1"><span class="pp">#include </span><span class="im">&quot;shape.h&quot;</span></a>
<a class="sourceLine" id="cb6-2" title="2"><span class="dt">int</span> main(<span class="dt">int</span> argc, <span class="dt">char</span>** argv)</a>
<a class="sourceLine" id="cb6-3" title="3">{</a>
<a class="sourceLine" id="cb6-4" title="4">  Circle c1;</a>
<a class="sourceLine" id="cb6-5" title="5">  Rectangle r1;</a>
<a class="sourceLine" id="cb6-6" title="6">  Shape *s1 = &amp;c1;</a>
<a class="sourceLine" id="cb6-7" title="7">  Shape *s2 = &amp;r1;</a>
<a class="sourceLine" id="cb6-8" title="8"></a>
<a class="sourceLine" id="cb6-9" title="9">  <span class="co">// Calls method in Shape (as not virtual)</span></a>
<a class="sourceLine" id="cb6-10" title="10">  <span class="dt">bool</span> isVisible = <span class="kw">true</span>;</a>
<a class="sourceLine" id="cb6-11" title="11">  s1-&gt;setVisible(isVisible);</a>
<a class="sourceLine" id="cb6-12" title="12">  s2-&gt;setVisible(isVisible);</a>
<a class="sourceLine" id="cb6-13" title="13"></a>
<a class="sourceLine" id="cb6-14" title="14">  <span class="co">// Calls method in derived (as declared virtual)</span></a>
<a class="sourceLine" id="cb6-15" title="15">  s1-&gt;rotate(<span class="dv">10</span>);</a>
<a class="sourceLine" id="cb6-16" title="16">  s2-&gt;rotate(<span class="dv">10</span>);</a>
<a class="sourceLine" id="cb6-17" title="17">}</a></code></pre></div>
</section><section id="homework---11" class="slide level3">
<h3>Homework - 11</h3>
<ul>
<li>Use <a href="https://github.com/MattClarkson/CMakeCatch2.git">https://github.com/MattClarkson/CMakeCatch2.git</a> and create a simple shape class for a square with methods to calculate the area
<ul>
<li>Create an object of the class from within an app and print the result of the area calculation to screen</li>
<li>Try to write some unit tests to check the class behaves as expected</li>
</ul></li>
</ul>
</section><section id="homework---12" class="slide level3">
<h3>Homework - 12</h3>
<ul>
<li>Again using <code>CMakeCatch2</code> as a basis use inheritance and polymorphism to create a shape base class and a set of derived classes for a square, rectangle
<ul>
<li>Draw a class inheritance diagram before starting</li>
<li>Confirm that the get area functions behave differently for the different dervied classes</li>
</ul></li>
</ul>
</section></section>
    </div>
  </div>

  <script src="http://lab.hakim.se/reveal-js/lib/js/head.min.js"></script>
  <script src="http://lab.hakim.se/reveal-js/js/reveal.js"></script>

  <script>

      // Full list of configuration options available at:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        // Push each slide change to the browser history
        history: true,
        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: "100%",
        height: "100%",
        // Factor of the display size that should remain empty around the content
        margin: 0,
        // Bounds for smallest/largest possible scale to apply to content
        minScale: 0.1,
        maxScale: 1.5,
        math: {
          mathjax: '/usr/share/javascript/mathjax/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // Optional reveal.js plugins
        dependencies: [
          { src: 'http://lab.hakim.se/reveal-js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: 'http://lab.hakim.se/reveal-js/plugin/zoom-js/zoom.js', async: true },
          { src: 'http://lab.hakim.se/reveal-js/plugin/math/math.js', async: true },
          { src: 'http://lab.hakim.se/reveal-js/plugin/notes/notes.js', async: true }
        ]
      });
    </script>
    </body>
</html>
